{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useCallback } from 'react';\nimport html2canvas from 'html2canvas';\nfunction useImageProcessing() {\n  _s();\n  const processImage = useCallback((image, type) => {\n    // 处理图片逻辑\n    console.log(`Processing ${type} image`);\n  }, []);\n  const generateScreenshot = useCallback(ref => {\n    if (ref.current) {\n      html2canvas(ref.current, {\n        scale: 2,\n        // 提高截图质量\n        useCORS: true,\n        // 允许加载跨域图片\n        allowTaint: true\n      }).then(canvas => {\n        const link = document.createElement('a');\n        link.download = 'keep-screenshot.png';\n        link.href = canvas.toDataURL('image/png');\n        link.click();\n      });\n    }\n  }, []);\n  return {\n    processImage,\n    generateScreenshot\n  };\n}\n_s(useImageProcessing, \"yrX5ay/R7m2QCIe0o+P/Fp3i5iY=\");\nexport default useImageProcessing;","map":{"version":3,"names":["useCallback","html2canvas","useImageProcessing","_s","processImage","image","type","console","log","generateScreenshot","ref","current","scale","useCORS","allowTaint","then","canvas","link","document","createElement","download","href","toDataURL","click"],"sources":["C:/code/vscode/Keeppro/keep-screenshot-generator/src/hooks/useImageProcessing.js"],"sourcesContent":["import { useCallback } from 'react';\nimport html2canvas from 'html2canvas';\n\nfunction useImageProcessing() {\n  const processImage = useCallback((image, type) => {\n    // 处理图片逻辑\n    console.log(`Processing ${type} image`);\n  }, []);\n\n  const generateScreenshot = useCallback((ref) => {\n    if (ref.current) {\n      html2canvas(ref.current, {\n        scale: 2, // 提高截图质量\n        useCORS: true, // 允许加载跨域图片\n        allowTaint: true,\n      }).then((canvas) => {\n        const link = document.createElement('a');\n        link.download = 'keep-screenshot.png';\n        link.href = canvas.toDataURL('image/png');\n        link.click();\n      });\n    }\n  }, []);\n\n  return { processImage, generateScreenshot };\n}\n\nexport default useImageProcessing;\n"],"mappings":";AAAA,SAASA,WAAW,QAAQ,OAAO;AACnC,OAAOC,WAAW,MAAM,aAAa;AAErC,SAASC,kBAAkBA,CAAA,EAAG;EAAAC,EAAA;EAC5B,MAAMC,YAAY,GAAGJ,WAAW,CAAC,CAACK,KAAK,EAAEC,IAAI,KAAK;IAChD;IACAC,OAAO,CAACC,GAAG,CAAC,cAAcF,IAAI,QAAQ,CAAC;EACzC,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMG,kBAAkB,GAAGT,WAAW,CAAEU,GAAG,IAAK;IAC9C,IAAIA,GAAG,CAACC,OAAO,EAAE;MACfV,WAAW,CAACS,GAAG,CAACC,OAAO,EAAE;QACvBC,KAAK,EAAE,CAAC;QAAE;QACVC,OAAO,EAAE,IAAI;QAAE;QACfC,UAAU,EAAE;MACd,CAAC,CAAC,CAACC,IAAI,CAAEC,MAAM,IAAK;QAClB,MAAMC,IAAI,GAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC;QACxCF,IAAI,CAACG,QAAQ,GAAG,qBAAqB;QACrCH,IAAI,CAACI,IAAI,GAAGL,MAAM,CAACM,SAAS,CAAC,WAAW,CAAC;QACzCL,IAAI,CAACM,KAAK,CAAC,CAAC;MACd,CAAC,CAAC;IACJ;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IAAEnB,YAAY;IAAEK;EAAmB,CAAC;AAC7C;AAACN,EAAA,CAtBQD,kBAAkB;AAwB3B,eAAeA,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}