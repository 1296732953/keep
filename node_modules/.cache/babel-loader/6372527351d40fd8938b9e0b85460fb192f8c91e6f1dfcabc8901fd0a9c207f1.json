{"ast":null,"code":"import{useCallback}from'react';import html2canvas from'html2canvas';function useImageProcessing(){const processImage=useCallback((image,type)=>{// 处理图片逻辑\nconsole.log(`Processing ${type} image`);},[]);const generateScreenshot=useCallback(ref=>{if(ref.current){html2canvas(ref.current,{scale:2,// 提高截图质量\nuseCORS:true,// 允许加载跨域图片\nallowTaint:true}).then(canvas=>{const link=document.createElement('a');link.download='keep-screenshot.png';link.href=canvas.toDataURL('image/png');link.click();});}},[]);return{processImage,generateScreenshot};}export default useImageProcessing;","map":{"version":3,"names":["useCallback","html2canvas","useImageProcessing","processImage","image","type","console","log","generateScreenshot","ref","current","scale","useCORS","allowTaint","then","canvas","link","document","createElement","download","href","toDataURL","click"],"sources":["C:/code/vscode/Keeppro/SportsScreenshot/src/hooks/useImageProcessing.js"],"sourcesContent":["import { useCallback } from 'react';\nimport html2canvas from 'html2canvas';\n\nfunction useImageProcessing() {\n  const processImage = useCallback((image, type) => {\n    // 处理图片逻辑\n    console.log(`Processing ${type} image`);\n  }, []);\n\n  const generateScreenshot = useCallback((ref) => {\n    if (ref.current) {\n      html2canvas(ref.current, {\n        scale: 2, // 提高截图质量\n        useCORS: true, // 允许加载跨域图片\n        allowTaint: true,\n      }).then((canvas) => {\n        const link = document.createElement('a');\n        link.download = 'keep-screenshot.png';\n        link.href = canvas.toDataURL('image/png');\n        link.click();\n      });\n    }\n  }, []);\n\n  return { processImage, generateScreenshot };\n}\n\nexport default useImageProcessing;\n"],"mappings":"AAAA,OAASA,WAAW,KAAQ,OAAO,CACnC,MAAO,CAAAC,WAAW,KAAM,aAAa,CAErC,QAAS,CAAAC,kBAAkBA,CAAA,CAAG,CAC5B,KAAM,CAAAC,YAAY,CAAGH,WAAW,CAAC,CAACI,KAAK,CAAEC,IAAI,GAAK,CAChD;AACAC,OAAO,CAACC,GAAG,CAAC,cAAcF,IAAI,QAAQ,CAAC,CACzC,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAG,kBAAkB,CAAGR,WAAW,CAAES,GAAG,EAAK,CAC9C,GAAIA,GAAG,CAACC,OAAO,CAAE,CACfT,WAAW,CAACQ,GAAG,CAACC,OAAO,CAAE,CACvBC,KAAK,CAAE,CAAC,CAAE;AACVC,OAAO,CAAE,IAAI,CAAE;AACfC,UAAU,CAAE,IACd,CAAC,CAAC,CAACC,IAAI,CAAEC,MAAM,EAAK,CAClB,KAAM,CAAAC,IAAI,CAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC,CACxCF,IAAI,CAACG,QAAQ,CAAG,qBAAqB,CACrCH,IAAI,CAACI,IAAI,CAAGL,MAAM,CAACM,SAAS,CAAC,WAAW,CAAC,CACzCL,IAAI,CAACM,KAAK,CAAC,CAAC,CACd,CAAC,CAAC,CACJ,CACF,CAAC,CAAE,EAAE,CAAC,CAEN,MAAO,CAAEnB,YAAY,CAAEK,kBAAmB,CAAC,CAC7C,CAEA,cAAe,CAAAN,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}