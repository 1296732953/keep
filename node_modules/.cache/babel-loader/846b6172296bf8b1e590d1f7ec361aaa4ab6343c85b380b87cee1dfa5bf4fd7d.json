{"ast":null,"code":"import React,{useRef}from\"react\";import{Card,Button}from\"react-bootstrap\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function PreviewCard(_ref){let{screenshot,bgImage,avatarImage,onGenerateScreenshot}=_ref;const previewRef=useRef(null);return/*#__PURE__*/_jsx(Card,{className:\"preview-card\",children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(Card.Title,{className:\"text-center mb-3\",children:\"\\u9884\\u89C8\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"preview-image\",ref:previewRef,children:[/*#__PURE__*/_jsx(\"div\",{className:\"background-layer\",style:{backgroundImage:`url(${process.env.PUBLIC_URL+bgImage})`}}),/*#__PURE__*/_jsx(\"img\",{src:process.env.PUBLIC_URL+\"/images/1.png\",alt:\"Top overlay\",className:\"top-overlay\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"content-layer\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"keep-title\",children:screenshot.keepTitle}),/*#__PURE__*/_jsxs(\"div\",{className:\"keep-miles\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"miles-number\",children:screenshot.miles.toFixed(2)}),/*#__PURE__*/_jsx(\"span\",{className:\"miles-unit\",children:\"\\u516C\\u91CC\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"keep-info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"keep-user\",children:[/*#__PURE__*/_jsx(\"img\",{src:avatarImage||process.env.PUBLIC_URL+\"/images/default_portrait.png\",alt:\"User avatar\",className:\"user-avatar\"}),/*#__PURE__*/_jsx(\"span\",{className:\"username\",children:screenshot.username})]}),/*#__PURE__*/_jsx(\"div\",{className:\"keep-date\",children:/*#__PURE__*/_jsx(\"span\",{children:screenshot.date.toLocaleString(\"zh-CN\",{year:\"numeric\",month:\"2-digit\",day:\"2-digit\",hour:\"2-digit\",minute:\"2-digit\",hour12:false})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"keep-weather\",children:[/*#__PURE__*/_jsx(\"img\",{src:process.env.PUBLIC_URL+\"/images/weather1.png\",alt:\"Weather\",className:\"weather-icon\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"weather-text\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[screenshot.temperature,\"\\xB0C\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[screenshot.humidity,\"%\"]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"keep-stats\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat\",children:/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:screenshot.pace})}),/*#__PURE__*/_jsx(\"div\",{className:\"stat\",children:/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:screenshot.duration})}),/*#__PURE__*/_jsx(\"div\",{className:\"stat\",children:/*#__PURE__*/_jsx(\"span\",{className:\"stat-value\",children:screenshot.calories})})]})]})]}),/*#__PURE__*/_jsx(Button,{onClick:()=>onGenerateScreenshot(previewRef),className:\"generate-btn mt-3\",children:\"\\u751F\\u6210\\u622A\\u56FE\"})]})});}export default PreviewCard;","map":{"version":3,"names":["React","useRef","Card","Button","jsx","_jsx","jsxs","_jsxs","PreviewCard","_ref","screenshot","bgImage","avatarImage","onGenerateScreenshot","previewRef","className","children","Body","Title","ref","style","backgroundImage","process","env","PUBLIC_URL","src","alt","keepTitle","miles","toFixed","username","date","toLocaleString","year","month","day","hour","minute","hour12","temperature","humidity","pace","duration","calories","onClick"],"sources":["C:/code/vscode/Keeppro/SportsScreenshot/src/components/PreviewCard.js"],"sourcesContent":["import React, { useRef } from \"react\";\nimport { Card, Button } from \"react-bootstrap\";\n\nfunction PreviewCard({\n  screenshot,\n  bgImage,\n  avatarImage,\n  onGenerateScreenshot,\n}) {\n  const previewRef = useRef(null);\n\n  return (\n    <Card className=\"preview-card\">\n      <Card.Body>\n        <Card.Title className=\"text-center mb-3\">预览</Card.Title>\n        <div className=\"preview-image\" ref={previewRef}>\n          <div\n            className=\"background-layer\"\n            style={{\n              backgroundImage: `url(${process.env.PUBLIC_URL + bgImage})`,\n            }}\n          ></div>\n          <img\n            src={process.env.PUBLIC_URL + \"/images/1.png\"}\n            alt=\"Top overlay\"\n            className=\"top-overlay\"\n          />\n          <div className=\"content-layer\">\n            <div className=\"keep-title\">{screenshot.keepTitle}</div>\n            <div className=\"keep-miles\">\n              <span className=\"miles-number\">\n                {screenshot.miles.toFixed(2)}\n              </span>\n              <span className=\"miles-unit\">公里</span>\n            </div>\n            <div className=\"keep-info\">\n              <div className=\"keep-user\">\n                <img\n                  src={\n                    avatarImage ||\n                    process.env.PUBLIC_URL + \"/images/default_portrait.png\"\n                  }\n                  alt=\"User avatar\"\n                  className=\"user-avatar\"\n                />\n                <span className=\"username\">{screenshot.username}</span>\n              </div>\n              <div className=\"keep-date\">\n                <span>\n                  {screenshot.date.toLocaleString(\"zh-CN\", {\n                    year: \"numeric\",\n                    month: \"2-digit\",\n                    day: \"2-digit\",\n                    hour: \"2-digit\",\n                    minute: \"2-digit\",\n                    hour12: false,\n                  })}\n                </span>\n              </div>\n              <div className=\"keep-weather\">\n                <img\n                  src={process.env.PUBLIC_URL + \"/images/weather1.png\"}\n                  alt=\"Weather\"\n                  className=\"weather-icon\"\n                />\n                <div className=\"weather-text\">\n                  <span>{screenshot.temperature}°C</span>\n                  <span>{screenshot.humidity}%</span>\n                </div>\n              </div>\n            </div>\n            <div className=\"keep-stats\">\n              <div className=\"stat\">\n                <span className=\"stat-value\">{screenshot.pace}</span>\n              </div>\n              <div className=\"stat\">\n                <span className=\"stat-value\">{screenshot.duration}</span>\n              </div>\n              <div className=\"stat\">\n                <span className=\"stat-value\">{screenshot.calories}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n        <Button onClick={() => onGenerateScreenshot(previewRef)} className=\"generate-btn mt-3\">\n          生成截图\n        </Button>\n      </Card.Body>\n    </Card>\n  );\n}\n\nexport default PreviewCard;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}