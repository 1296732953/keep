{"ast":null,"code":"import React,{useReducer,useState}from\"react\";import{Container,Row,Col}from\"react-bootstrap\";import PreviewCard from\"./components/PreviewCard\";import SettingsCard from\"./components/SettingsCard\";import{screenshotReducer,initialState}from\"./reducers/screenshotReducer\";import{ScreenshotContext}from\"./contexts/ScreenshotContext\";import useImageProcessing from\"./hooks/useImageProcessing\";import\"./App.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[state,dispatch]=useReducer(screenshotReducer,initialState);const[avatarImage,setAvatarImage]=useState(null);const{processImage,generateScreenshot}=useImageProcessing();const handleAvatarChange=file=>{if(file){const reader=new FileReader();reader.onload=e=>setAvatarImage(e.target.result);reader.readAsDataURL(file);}};const handleBgImageChange=input=>{if(typeof input==='string'){// 预设背景图片\ndispatch({type:'SET_BG_IMAGE',payload:input});}else if(input instanceof File){// 自定义上传的背景图片\nprocessImage(input,'bgImage');}};return/*#__PURE__*/_jsx(ScreenshotContext.Provider,{value:{state,dispatch},children:/*#__PURE__*/_jsxs(Container,{fluid:true,className:\"app-container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center mb-4 app-title\",children:\"\\u8FD0\\u52A8\\u622A\\u56FE\\u751F\\u6210\\u5668\"}),/*#__PURE__*/_jsxs(Row,{className:\"justify-content-center\",children:[/*#__PURE__*/_jsx(Col,{md:6,lg:5,className:\"mb-4\",children:/*#__PURE__*/_jsx(PreviewCard,{screenshot:state.screenshot,bgImage:state.bgImage,avatarImage:avatarImage,onGenerateScreenshot:generateScreenshot})}),/*#__PURE__*/_jsx(Col,{md:6,lg:5,children:/*#__PURE__*/_jsx(SettingsCard,{screenshot:state.screenshot,onInputChange:(name,value)=>dispatch({type:'UPDATE_FIELD',payload:{name,value}}),onBgImageChange:handleBgImageChange,onAvatarChange:handleAvatarChange})})]}),/*#__PURE__*/_jsx(Row,{className:\"justify-content-center mt-4\",children:/*#__PURE__*/_jsx(Col,{md:12,className:\"text-center\",children:/*#__PURE__*/_jsx(\"p\",{className:\"disclaimer\",children:\"\\u514D\\u8D23\\u58F0\\u660E\\uFF1A\\u672C\\u5DE5\\u5177\\u4EC5\\u4F9B\\u5B66\\u4E60\\u548C\\u5A31\\u4E50\\u76EE\\u7684\\u4F7F\\u7528\\u3002\\u8BF7\\u52FF\\u5C06\\u751F\\u6210\\u7684\\u56FE\\u7247\\u7528\\u4E8E\\u6B3A\\u9A97\\u6216\\u5176\\u4ED6\\u4E0D\\u5F53\\u7528\\u9014\\u3002\\u4F7F\\u7528\\u672C\\u5DE5\\u5177\\u6240\\u4EA7\\u751F\\u7684\\u4EFB\\u4F55\\u540E\\u679C\\u7531\\u7528\\u6237\\u81EA\\u884C\\u627F\\u62C5\\u3002\"})})})]})});}export default App;","map":{"version":3,"names":["React","useReducer","useState","Container","Row","Col","PreviewCard","SettingsCard","screenshotReducer","initialState","ScreenshotContext","useImageProcessing","jsx","_jsx","jsxs","_jsxs","App","state","dispatch","avatarImage","setAvatarImage","processImage","generateScreenshot","handleAvatarChange","file","reader","FileReader","onload","e","target","result","readAsDataURL","handleBgImageChange","input","type","payload","File","Provider","value","children","fluid","className","md","lg","screenshot","bgImage","onGenerateScreenshot","onInputChange","name","onBgImageChange","onAvatarChange"],"sources":["C:/code/vscode/Keeppro/SportsScreenshot/src/App.js"],"sourcesContent":["import React, { useReducer, useState } from \"react\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport PreviewCard from \"./components/PreviewCard\";\nimport SettingsCard from \"./components/SettingsCard\";\nimport { screenshotReducer, initialState } from \"./reducers/screenshotReducer\";\nimport { ScreenshotContext } from \"./contexts/ScreenshotContext\";\nimport useImageProcessing from \"./hooks/useImageProcessing\";\nimport \"./App.css\";\n\nfunction App() {\n  const [state, dispatch] = useReducer(screenshotReducer, initialState);\n  const [avatarImage, setAvatarImage] = useState(null);\n  const { processImage, generateScreenshot } = useImageProcessing();\n\n  const handleAvatarChange = (file) => {\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = (e) => setAvatarImage(e.target.result);\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const handleBgImageChange = (input) => {\n    if (typeof input === 'string') {\n      // 预设背景图片\n      dispatch({ type: 'SET_BG_IMAGE', payload: input });\n    } else if (input instanceof File) {\n      // 自定义上传的背景图片\n      processImage(input, 'bgImage');\n    }\n  };\n\n  return (\n    <ScreenshotContext.Provider value={{ state, dispatch }}>\n      <Container fluid className=\"app-container\">\n        <h1 className=\"text-center mb-4 app-title\">运动截图生成器</h1>\n        <Row className=\"justify-content-center\">\n          <Col md={6} lg={5} className=\"mb-4\">\n            <PreviewCard \n              screenshot={state.screenshot} \n              bgImage={state.bgImage}\n              avatarImage={avatarImage}\n              onGenerateScreenshot={generateScreenshot}\n            />\n          </Col>\n          <Col md={6} lg={5}>\n            <SettingsCard \n              screenshot={state.screenshot}\n              onInputChange={(name, value) => dispatch({ type: 'UPDATE_FIELD', payload: { name, value } })}\n              onBgImageChange={handleBgImageChange}\n              onAvatarChange={handleAvatarChange}\n            />\n          </Col>\n        </Row>\n        <Row className=\"justify-content-center mt-4\">\n          <Col md={12} className=\"text-center\">\n            <p className=\"disclaimer\">\n              免责声明：本工具仅供学习和娱乐目的使用。请勿将生成的图片用于欺骗或其他不当用途。使用本工具所产生的任何后果由用户自行承担。\n            </p>\n          </Col>\n        </Row>\n      </Container>\n    </ScreenshotContext.Provider>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}